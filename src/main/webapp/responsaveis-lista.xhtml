<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<f:view>
    <h:head>
        <title>Lista de Responsáveis</title>
    </h:head>
    <h:body style="margin: 0; padding: 20px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; font-family: Arial, sans-serif;">
        <div style="border: 1px solid #ccc; border-radius: 10px; padding: 0; max-width: 800px; width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
            <div style="background-color: #f0f0f0; padding: 15px; border-radius: 10px 10px 0 0; text-align: center; border-bottom: 1px solid #ccc;">
                <h2 style="margin: 0; font-size: 18px; color: #333;">Sistema de Gestão de Tarefas</h2>
            </div>

            <div style="padding: 30px;">
                <h3 style="text-align: center; margin-bottom: 25px; color: #555;">Gerenciar Responsáveis</h3>

                <h:form>
                    <h:messages />

                    <!-- Botões de ação -->
                    <div style="text-align: center; margin-bottom: 25px;">
                        <h:commandButton value="Novo Responsável" action="#{responsavelBean.novoResponsavel}"
                                       style="margin-right: 10px; padding: 8px 15px;" />
                        <h:commandButton value="Voltar ao Menu" action="index?faces-redirect=true"
                                       style="padding: 8px 15px;" />
                    </div>

                    <!-- Tabela de responsáveis -->
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; border: 1px solid #ccc;"
                               rendered="#{not empty responsavelBean.responsaveis}">
                            <thead>
                                <tr style="background-color: #f8f9fa;">
                                    <th style="border: 1px solid #ccc; padding: 10px; font-weight: bold; text-align: left;">ID</th>
                                    <th style="border: 1px solid #ccc; padding: 10px; font-weight: bold; text-align: left;">Nome</th>
                                    <th style="border: 1px solid #ccc; padding: 10px; font-weight: bold; text-align: left;">CPF</th>
                                    <th style="border: 1px solid #ccc; padding: 10px; font-weight: bold; text-align: center;">Ações</th>
                                </tr>
                            </thead>
                        </table>

                        <h:dataTable value="#{responsavelBean.responsaveis}" var="resp"
                                   rendered="#{not empty responsavelBean.responsaveis}"
                                   style="width: 100%; border-collapse: collapse; border: 1px solid #ccc; border-top: none;">
                            <h:column>
                                <h:outputText value="#{resp.id}"
                                            style="border: 1px solid #ccc; padding: 8px; display: block;" />
                            </h:column>
                            <h:column>
                                <h:outputText value="#{resp.nome}"
                                            style="border: 1px solid #ccc; padding: 8px; display: block;" />
                            </h:column>
                            <h:column>
                                <h:outputText value="#{resp.cpf}"
                                            style="border: 1px solid #ccc; padding: 8px; display: block;" />
                            </h:column>
                            <h:column>
                                <div style="border: 1px solid #ccc; padding: 8px; text-align: center;">
                                    <h:commandButton value="Editar"
                                                   action="#{responsavelBean.editarResponsavel(resp.id)}"
                                                   style="margin-right: 5px; padding: 4px 8px;" />
                                    <h:commandButton value="Excluir"
                                                   action="#{responsavelBean.excluirResponsavel(resp.id)}"
                                                   onclick="return confirm('Tem certeza?')"
                                                   style="padding: 4px 8px;" />
                                </div>
                            </h:column>
                        </h:dataTable>
                    </div>

                    <div style="text-align: center; margin-top: 20px; padding: 20px;" rendered="#{empty responsavelBean.responsaveis}">
                        <p>Nenhum responsável encontrado.</p>
                    </div>
                </h:form>
            </div>
        </div>
    </h:body>
</f:view>
</html>
